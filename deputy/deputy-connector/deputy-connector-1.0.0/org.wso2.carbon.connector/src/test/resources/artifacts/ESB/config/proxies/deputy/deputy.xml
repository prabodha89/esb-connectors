<?xml version="1.0" encoding="UTF-8"?>
<proxy xmlns="http://ws.apache.org/ns/synapse" name="deputy"
	transports="https,http" statistics="disable" trace="disable"
	startOnLoad="true">
	<target>
		<inSequence>
			<property name="accessToken" expression="json-eval($.accessToken)" />
			<property name="apiUrl" expression="json-eval($.apiUrl)" />
			<property name="employeeId" expression="json-eval($.employeeId)" />
			<property name="startDate" expression="json-eval($.startDate)" />
			<property name="status" expression="json-eval($.status)" />
			<property name="endDate" expression="json-eval($.endDate)" />
			<property name="employee" expression="json-eval($.employee)" />
			<property name="approvalComment" expression="json-eval($.approvalComment)" />
			<property name="objectName" expression="json-eval($.objectName)" />
			<property name="objectId" expression="json-eval($.objectId)" />
			<property name="intStartTimestamp" expression="json-eval($.intStartTimestamp)" />
			<property name="intRosterEmployee" expression="json-eval($.intRosterEmployee)" />
			<property name="intEndTimestamp" expression="json-eval($.intEndTimestamp)" />
			<property name="blnPublish" expression="json-eval($.blnPublish)" />
			<property name="intMealbreakMinute" expression="json-eval($.intMealbreakMinute)" />
			<property name="intOpunitId" expression="json-eval($.intOpunitId)" />
			<property name="intRosterId" expression="json-eval($.intRosterId)" />			
			<property name="dateOfBirth" expression="json-eval($.dateOfBirth)"/>
			<property name="lastName" expression="json-eval($.lastName)"/>
			<property name="intCompanyId" expression="json-eval($.intCompanyId)"/>
			<property name="mobilePhone" expression="json-eval($.mobilePhone)"/>
			<property name="email" expression="json-eval($.email)"/>
			<property name="firstName" expression="json-eval($.firstName)"/>
			<property name="roleId" expression="json-eval($.roleId)"/>
			<property name="companyId" expression="json-eval($.companyId)"/>
			<property name="dob" expression="json-eval($.dob)"/>


			<deputy.init>
				<accessToken>{$ctx:accessToken}</accessToken>
				<apiUrl>{$ctx:apiUrl}</apiUrl>
			</deputy.init>
			<switch source="get-property('transport', 'Action')">
				
				<case regex="urn:createEmployee">
					<deputy.createEmployee>
						<dateOfBirth>{$ctx:dateOfBirth}</dateOfBirth>
						<lastName>{$ctx:lastName}</lastName>
						<intCompanyId>{$ctx:intCompanyId}</intCompanyId>
						<mobilePhone>{$ctx:mobilePhone}</mobilePhone>
						<email>{$ctx:email}</email>
						<firstName>{$ctx:firstName}</firstName>
						<roleId>{$ctx:roleId}</roleId>
					</deputy.createEmployee>
				</case>
				<case regex="urn:updateEmployee">
					<deputy.updateEmployee>
						<employeeId>{$ctx:employeeId}</employeeId>
						<companyId>{$ctx:companyId}</companyId>
						<firstName>{$ctx:firstName}</firstName>
						<lastName>{$ctx:lastName}</lastName>
						<email>{$ctx:email}</email>
						<roleId>{$ctx:roleId}</roleId>
						<dob>{$ctx:dob}</dob>
						<mobilePhone>{$ctx:mobilePhone}</mobilePhone>
					</deputy.updateEmployee>
				</case>
				<case regex="urn:createLeave">
					<deputy.createLeave>
						<startDate>{$ctx:startDate}</startDate>
						<status>{$ctx:status}</status>
						<endDate>{$ctx:endDate}</endDate>
						<employee>{$ctx:employee}</employee>
						<approvalComment>{$ctx:approvalComment}</approvalComment>
					</deputy.createLeave>
				</case>
				<case regex="urn:getLeave">
					<deputy.getLeave>
						<employeeId>{$ctx:employeeId}</employeeId>
					</deputy.getLeave>
				</case>
				<case regex="urn:getObject">
					<deputy.getObject>
						<objectName>{$ctx:objectName}</objectName>
						<objectId>{$ctx:objectId}</objectId>
					</deputy.getObject>
				</case>
				<case regex="urn:createRoster">
					<deputy.createRoster>
						<intStartTimestamp>{$ctx:intStartTimestamp}</intStartTimestamp>
						<intRosterEmployee>{$ctx:intRosterEmployee}</intRosterEmployee>
						<intEndTimestamp>{$ctx:intEndTimestamp}</intEndTimestamp>
						<blnPublish>{$ctx:blnPublish}</blnPublish>
						<intMealbreakMinute>{$ctx:intMealbreakMinute}</intMealbreakMinute>
						<intOpunitId>{$ctx:intOpunitId}</intOpunitId>
					</deputy.createRoster>
				</case>
				<case regex="urn:updateRoster">
					<deputy.updateRoster>
						<intStartTimestamp>{$ctx:intStartTimestamp}</intStartTimestamp>
						<intRosterEmployee>{$ctx:intRosterEmployee}</intRosterEmployee>
						<intEndTimestamp>{$ctx:intEndTimestamp}</intEndTimestamp>
						<blnPublish>{$ctx:blnPublish}</blnPublish>
						<intOpunitId>{$ctx:intOpunitId}</intOpunitId>
						<intMealbreakMinute>{$ctx:intMealbreakMinute}</intMealbreakMinute>
						<intRosterId>{$ctx:intRosterId}</intRosterId>
					</deputy.updateRoster>
				</case>
			</switch>
			<respond />
		</inSequence>
		<outSequence>
			<log />
			<send />
		</outSequence>
	</target>
	<description />
</proxy>
                                